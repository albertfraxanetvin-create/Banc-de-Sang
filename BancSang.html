<!doctype html>
<html lang="ca">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Relleu Jove - Dona Sang Catalunya</title>
  <meta name="description" content="Campanya per impulsar la donaci√≥ de sang entre joves a Catalunya. Informa't, trenca mites i salva vides amb un sol gest." />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Flowbite -->
  <link rel="stylesheet" href="https://unpkg.com/flowbite@1.7.0/dist/flowbite.min.css" />
  <script src="https://unpkg.com/flowbite@1.7.0/dist/flowbite.bundle.min.js"></script>

  <style>
    :root { --brand: #e11d48; --brand-light: #ffe8f0; }
    html { scroll-behavior: smooth; }

    .fade-in { opacity: 0; transform: translateY(10px); transition: all 0.7s ease; }
    .fade-in.show { opacity: 1; transform: translateY(0); }

    .hover-card:hover { transform: translateY(-4px); box-shadow: 0 10px 25px rgba(0,0,0,0.08); }

    #cta-float {
      position: fixed; bottom: 18px; right: 18px; z-index: 999;
      background: #e11d48; color: white; width: 58px; height: 58px;
      border-radius: 9999px; display: flex; align-items: center; justify-content: center;
      font-size: 26px; cursor: pointer; box-shadow: 0 8px 20px rgba(0,0,0,0.2); transition: transform .2s;
    }
    #cta-float:hover { transform: scale(1.08); }
  </style>
</head>

<body class="antialiased text-slate-800 bg-white">

  <!-- CTA flotant -->
  <button id="cta-float" class="cta-btn" data-modal-target="signupModal" data-modal-toggle="signupModal">‚úö</button>

  <!-- NAV -->
  <nav class="bg-white/80 backdrop-blur sticky top-0 z-50 shadow-sm border-b border-red-100 fade-in">
    <div class="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
      <a href="#hero" class="flex items-center gap-2">
        <span class="w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-700 text-white flex items-center justify-center font-bold">‚úö</span>
        <div class="hidden sm:block leading-tight">
          <div class="text-sm font-semibold">Relleu Jove</div>
          <div class="text-xs text-slate-500">Dona sang ¬∑ Catalunya</div>
        </div>
      </a>

      <div class="hidden md:flex items-center gap-6 text-sm">
        <a href="#problem" class="hover:text-red-600">La problem√†tica</a>
        <a href="#proc" class="hover:text-red-600">Com ho fas</a>
        <a href="#benef" class="hover:text-red-600">Mites i Beneficis</a>
        <a href="#testi" class="hover:text-red-600">Testimonis</a>
      </div>

      <!-- Bot√≥ "Fes-te donant" -->
      <button id="donate-btn" data-modal-target="signupModal" data-modal-toggle="signupModal"
        class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-full text-sm shadow">
        Fes-te donant
      </button>

      <!-- Info de sessi√≥ (ocult per defecte) -->
      <span id="session-info" class="hidden flex items-center gap-3 text-sm">
        <span id="session-name"></span>
        <button id="logout-btn" class="text-red-600 underline hover:text-red-700">Tancar sessi√≥</button>
      </span>
    </div>
  </nav>

  <!-- HERO -->
  <header id="hero" class="bg-gradient-to-b from-white via-red-50/40 to-white py-20 lg:py-28 fade-in">
    <div class="max-w-6xl mx-auto px-4 flex flex-col lg:flex-row items-center gap-12">
      <div class="w-full lg:w-1/2">
        <h1 class="text-4xl sm:text-5xl font-extrabold leading-tight">
          Sigues el relleu. <span class="text-red-600">Dona sang</span> i salva vides.
        </h1>
        <p class="mt-6 text-lg text-slate-600">Catalunya necessita donants joves. El futur de les reserves de sang dep√®n de tu.</p>

        <div class="mt-8 flex gap-4 items-center">
          <button data-modal-target="signupModal" data-modal-toggle="signupModal"
            class="cta-btn px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-full shadow text-sm font-semibold">
            Apunta‚Äôt ara
          </button>
          <a href="#problem" class="underline text-sm text-slate-700">Per qu√® √©s urgent?</a>
        </div>
      </div>

      <div class="w-full lg:w-1/2">
        <div class="rounded-3xl shadow-xl bg-white p-4 hover-card">
          <img src="hero.png" loading="lazy" alt="Il¬∑lustraci√≥ donaci√≥ de sang" class="rounded-2xl w-full h-80 object-cover" />
        </div>
      </div>
    </div>
  </header>

  <!-- PROBLEM√ÄTICA -->
  <section id="problem" class="max-w-6xl mx-auto px-4 py-16 fade-in">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
      <div>
        <h2 class="text-3xl font-bold">La problem√†tica</h2>
        <p class="mt-4 text-slate-600 leading-relaxed">
          La mitjana d‚Äôedat dels donants est√† pujant. Les necessitats hospital√†ries augmenten i falten joves que garanteixin el relleu generacional.
        </p>
        <ul class="mt-6 space-y-4">
          <li class="flex gap-3"><span class="text-red-600 mt-1">‚óè</span><span><strong>M√©s cirurgies, menys donants:</strong> la demanda creix constantment.</span></li>
          <li class="flex gap-3"><span class="text-red-600 mt-1">‚óè</span><span><strong>Relleu insuficient:</strong> la franja 18‚Äì35 √©s la menys representada.</span></li>
        </ul>
      </div>

      <div class="bg-white p-6 rounded-2xl shadow hover-card">
        <h3 class="font-semibold text-lg">Dades importants</h3>
        <div class="grid grid-cols-2 gap-4 mt-4">
          <div class="p-4 bg-red-50 rounded-xl text-center"><div class="text-3xl font-extrabold text-red-600">+60%</div><p class="text-xs text-slate-500 mt-1">Augment demanda hospital√†ria</p></div>
          <div class="p-4 bg-red-50 rounded-xl text-center"><div class="text-3xl font-extrabold text-red-600">28%</div><p class="text-xs text-slate-500 mt-1">Donants joves (18‚Äì35)</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROC√âS -->
  <section id="proc" class="bg-red-50/40 py-16 fade-in">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-3xl font-bold text-center">Com √©s el proc√©s</h2>
      <p class="text-center text-slate-600 mt-2">R√†pid, segur i senzill.</p>
      <div class="mt-10 flex justify-center hover-card">
        <img src="proces.png" loading="lazy" alt="Proc√©s de donaci√≥" class="w-full max-w-4xl rounded-xl shadow" />
      </div>
    </div>
  </section>

  <!-- BENEFICIS -->
  <section id="benef" class="max-w-6xl mx-auto px-4 py-16 fade-in">
    <h2 class="text-3xl font-bold text-center">Mites i Beneficis</h2>
    <p class="text-center text-slate-600 mt-2">Resolem dubtes i destaquem all√≤ positiu.</p>
    <div class="mt-10 flex justify-center hover-card">
      <img src="beneficis.png" loading="lazy" alt="Mites i beneficis donaci√≥ de sang" class="w-full max-w-4xl rounded-xl shadow" />
    </div>
  </section>

  <!-- TESTIMONIS -->
  <section id="testi" class="bg-red-50/40 py-16 fade-in">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-3xl font-bold text-center">Testimonis</h2>
      <p class="text-center text-slate-600 mt-2">Joves que ja donen. Persones reals.</p>
      <div class="mt-10 flex justify-center hover-card">
        <img src="testimonis.png" loading="lazy" alt="Testimonis de donants" class="w-full max-w-4xl rounded-xl shadow" />
      </div>
    </div>
  </section>

  <!-- CTA FINAL -->
  <section id="cta-final" class="max-w-6xl mx-auto px-4 py-16 fade-in">
    <div class="bg-gradient-to-r from-red-600 to-rose-500 text-white p-10 rounded-3xl shadow-lg flex flex-col lg:flex-row items-center justify-between gap-6">
      <div>
        <h3 class="text-2xl font-bold">Est√†s a un clic de fer la difer√®ncia</h3>
        <p class="mt-2">Apunta‚Äôt com a donant avui i ajudar√†s a construir el relleu que asseguri la salut del futur.</p>
      </div>
      <div class="flex gap-3">
        <button data-modal-target="signupModal" data-modal-toggle="signupModal" class="cta-btn px-6 py-3 rounded-full bg-white text-red-600 font-semibold shadow hover:scale-105 transition">Apunta‚Äôm</button>
        <a href="#proc" class="px-4 py-3 rounded-full border border-white/30">Com funciona</a>
      </div>
    </div>
  </section>

  <!-- CTA final footer -->
  <footer class="bg-white border-t mt-10 fade-in">
    <div class="max-w-6xl mx-auto px-4 py-8 flex flex-col md:flex-row justify-between items-center gap-4">
      <p class="text-sm text-slate-500">¬© 2025 Relleu Jove ‚Äî Campanya de donaci√≥ de sang</p>
      <div class="flex gap-4 text-sm">
        <a href="#" class="underline hover:text-red-600 transition">Privacitat</a>
        <a href="#" class="underline hover:text-red-600 transition">Contacte</a>
      </div>
    </div>
  </footer>

  <!-- MODAL INSCRIPCI√ì -->
  <div id="signupModal" tabindex="-1" aria-hidden="true" class="hidden fixed inset-0 z-50 overflow-y-auto overflow-x-hidden fade-in">
    <div class="flex items-center justify-center min-h-screen px-4">
      <div class="bg-white rounded-2xl shadow-xl p-6 w-full max-w-lg relative">
        <button data-modal-hide="signupModal"
          class="absolute top-3 right-3 text-slate-400 hover:bg-slate-200 p-1 rounded-lg transition">‚úï</button>

        <h3 class="text-xl font-semibold mb-4">Inscripci√≥ r√†pida</h3>

        <div id="signup-status" class="hidden p-2 rounded bg-green-50 text-green-700 text-sm"></div>

        <form class="space-y-4">
          <div>
            <label class="text-sm">Nom complet</label>
            <input type="text" class="mt-1 w-full border p-2 rounded-lg" required>
          </div>

          <div>
            <label class="text-sm">Correu electr√≤nic</label>
            <input type="email" class="mt-1 w-full border p-2 rounded-lg" required>
          </div>

          <div class="flex gap-4">
            <div class="w-1/2">
              <label class="text-sm">Edat</label>
              <input type="number" min="18" max="70" class="mt-1 w-full border p-2 rounded-lg" required>
            </div>
            <div class="w-1/2">
              <label class="text-sm">Municipi</label>
              <input type="text" class="mt-1 w-full border p-2 rounded-lg" required>
            </div>
          </div>

          <div class="flex items-center gap-2">
            <input type="checkbox" required class="w-4 h-4">
            <label class="text-sm">Accepto rebre informaci√≥ sobre punts i horaris.</label>
          </div>

          <div class="flex gap-3 pt-2">
            <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition">Enviar</button>
            <button data-modal-hide="signupModal" type="button" class="px-4 py-2 border rounded-full hover:bg-slate-100 transition">Tancar</button>
          </div>
        </form>

      </div>
    </div>
  </div>

  <!-- JS: Fade-in animacions i l√≤gica de sessi√≥ -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Fade-in observer
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('show');
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

      // Helpers
      function safeGet(id) { return document.getElementById(id); }

      // Update UI according to session
      function updateUI() {
        const users = JSON.parse(localStorage.getItem('rj_users') || '{}');
        const loggedEmail = localStorage.getItem('rj_logged');

        const donateBtn = safeGet('donate-btn');
        const ctaBtns = document.querySelectorAll('.cta-btn');
        const floatBtn = safeGet('cta-float');
        const sessionInfo = safeGet('session-info');
        const sessionName = safeGet('session-name');

        const loggedUser = loggedEmail && users[loggedEmail] ? users[loggedEmail] : null;

        if (loggedUser) {
          if (sessionInfo) {
            sessionInfo.classList.remove('hidden');
            sessionInfo.classList.add('flex');
            sessionName.textContent = "Hola, " + loggedUser.name + " üëã";
          }
          if (donateBtn) donateBtn.classList.add('hidden');
          if (floatBtn) floatBtn.classList.add('hidden');
          ctaBtns.forEach(b => b.classList.add('hidden'));
        } else {
          if (sessionInfo) sessionInfo.classList.add('hidden');
          if (donateBtn) donateBtn.classList.remove('hidden');
          if (floatBtn) floatBtn.classList.remove('hidden');
          ctaBtns.forEach(b => b.classList.remove('hidden'));
        }
      }

      // Form handling
      const signupForm = document.querySelector('#signupModal form');
      if (signupForm) {
        signupForm.addEventListener('submit', function (e) {
          e.preventDefault();

          const name = signupForm.querySelector('input[type="text"]').value.trim();
          const email = signupForm.querySelector('input[type="email"]').value.trim().toLowerCase();

          if (!name || !email) {
            const sb = safeGet('signup-status');
            if (sb) { sb.textContent = "Omple el nom i correu."; sb.classList.remove('hidden'); }
            return;
          }

          const users = JSON.parse(localStorage.getItem('rj_users') || '{}');
          let message = "";

          if (users[email]) {
            message = `Benvingut/da de nou, ${users[email].name}! Sessi√≥ iniciada.`;
          } else {
            users[email] = { name };
            message = `Usuari creat! Gr√†cies per sumar-te al Relleu Jove, ${name}.`;
          }

          localStorage.setItem('rj_users', JSON.stringify(users));
          localStorage.setItem('rj_logged', email);

          const statusBox = safeGet('signup-status');
          if (statusBox) {
            statusBox.textContent = message;
            statusBox.classList.remove('hidden');
          }

          setTimeout(() => {
            const hideBtn = document.querySelector('[data-modal-hide="signupModal"]');
            if (hideBtn) hideBtn.click();
            if (statusBox) statusBox.classList.add('hidden');
            signupForm.reset();
            updateUI();
          }, 1400);
        });
      }

      // Logout
      const logoutBtn = safeGet('logout-btn');
      if (logoutBtn) {
        logoutBtn.addEventListener('click', function () {
          localStorage.removeItem('rj_logged');
          updateUI();
        });
      }

      // Inicialitza UI
      updateUI();
    });
  </script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const openButtons = document.querySelectorAll("[data-modal-target='signupModal'], [data-modal-toggle='signupModal']");
  const closeButtons = document.querySelectorAll("[data-modal-hide='signupModal']");
  const modal = document.getElementById("signupModal");

  // Obrir modal
  openButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      modal.classList.remove("hidden");
      document.body.classList.add("overflow-hidden");
    });
  });

  // Tancar modal
  closeButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      modal.classList.add("hidden");
      document.body.classList.remove("overflow-hidden");
    });
  });
});
</script>
</body>
</html>
